<script type="text/javascript">
  // getParameterメソッドを定義する。keyは、パラメーターの名前をいれる
  function getParameter(key) {
    // パラメーターを配列で取得する
    var str = location.search.split("?");
    if (str.length < 2) {
      return "";
    }
    var params = str[1].split("&");
    for (var i = 0; i < params.length; i++) {
      var keyVal = params[i].split("=");
      if (keyVal[0] == key && keyVal.length == 2) {
        return decodeURIComponent(keyVal[1]);
      }
    }
    return "";
  }
  
  // 取得したパラメータで、グラム数とパック数を更新する
  window.onload = function() {
    // グラム数選択の更新
    var selectorGram = document.getElementById('productSelect--product-template-option-0');
    var gram = getParameter("gram")+"g";
    for (var i = 0; i < selectorGram.options.length; i++) {
      if (selectorGram.options[i].value == gram) {
        selectorGram.options[i].selected = true;
      }
    }
    // パック数選択の更新
    var selectorCount = document.getElementById('Quantity1');
    var count = getParameter("count");
    selectorCount.value = count;
  }
</script>

