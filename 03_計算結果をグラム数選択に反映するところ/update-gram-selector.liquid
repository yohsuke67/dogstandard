<script type="text/javascript">
  // getParameterメソッドを定義する。keyは、パラメーターの名前をいれる
  function getParameter(key) {
    // パラメーターを配列で取得する
    var str = location.search.split("?");
    if (str.length < 2) {
      return "";
    }
    var params = str[1].split("&");
    for (var i = 0; i < params.length; i++) {
      var keyVal = params[i].split("=");
      if (keyVal[0] == key && keyVal.length == 2) {
        return decodeURIComponent(keyVal[1]);
      }
    }
    return "";
  }
  
  // 取得したパラメータで、グラム数選択を更新する
  window.onload = function() {
    var selector = document.getElementById('productSelect--product-template-option-0');
    var targetVal = getParameter("gram")+"g";
    for (var i = 0; i < selector.options.length; i++) {
      if (selector.options[i].value == targetVal) {
        selector.options[i].selected = true;
      }
    }
  }
</script>

